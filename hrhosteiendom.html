<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Rentals</title>
    <link rel="stylesheet" href="hr.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />


</head>
<header>
<div class="menywrapper">
  <!-- Skjult checkbox -->
  <input type="checkbox" id="meny-toggle" hidden>

  <!-- Label fungerer som knapp -->
  <label for="meny-toggle" class="profilmeny">
    <span class="meny-ikon">&#9776;</span>
    <img src="profilbilde.jpg" alt="Profil" class="profilbilde">
  </label>

  <!-- Menyvalg -->
  <div class="meny-valg">
    <a href="hrprofil.html" class="kontoknapp">Profil</a>
    <a href="hrmelding.html" class="meldingknapp">Meldinger</a>
    <a href="hrpost.html" class="postknapp">Lei ut bolig</a>
    <button type="button" class="loggknapp">Logg ut</button>
  </div>
</div>

  <div class="logo">
    <a href="index.html">
      <img src="hrlogo.jpg" alt="logo" class="logo">
    </a>
  </div>

  <div class="header-right">
    <a href="hrfavoritter.html" class="favoritt-hjerte" title="Favoritter">
      <span>&#10084;</span>
    </a>
    <div class="notification-wrapper">
      <button class="notification-bell" id="notifBell" aria-label="Varsler">
        <span>&#128276;</span>
      </button>
      <div class="notification-dropdown" id="notifDropdown">
        <a href="hrholmsbu.html" class="notification-item top-notif">Ny anmeldelse venter på deg!</a>
        <a href="hrmelding.html" class="notification-item">Ny melding</a>
        <a href="hrmelding.html" class="notification-item">Ny melding</a>
      </div>
    </div>
    <label for="popup" class="open-popup">Logg inn</label>
  </div>

<!-- Skjulte radio-knapper for tab-switching -->
<input type="radio" name="auth-tab" id="login-tab" checked hidden>
<input type="radio" name="auth-tab" id="register-tab" hidden>

<!-- Pop-up bakgrunn -->
<input type="checkbox" id="popup" class="popup-checkbox">
<div class="popup">
  <div class="popup-content">
    <label for="popup" class="close-popup">&times;</label>

    <!-- Topp-knapper -->
    <div class="tab-buttons">
      <label for="login-tab" class="tab-button">Logg inn</label>
      <label for="register-tab" class="tab-button">Registrer deg</label>
    </div>

    <!-- Innhold for Logg inn -->
    <div class="tab-content login-content">
      <input type="email" placeholder="E-post" required>
      <input type="password" placeholder="Passord" required>
      <button>Logg inn</button>
    </div>

    <!-- Innhold for Registrer deg -->
    <div class="tab-content register-content">
      <input type="text" placeholder="Fornavn" required>
      <input type="text" placeholder="Etternavn" required>
      <input type="email" placeholder="E-post" required>
      <input type="tel" placeholder="Telefonnummer" required>
      <input type="password" placeholder="Passord" required>
      <input type="text" placeholder="Adresse" required>
      <input type="text" placeholder="By" required>
      <input type="text" placeholder="Postnummer" required>
      <form>
        <input type="checkbox" id="terms" name="terms" required>
        <label for="terms">Jeg godkjenner<a href="hrvilkar.html" class="terms-link"> vilkårene for medlemskap</label></a>
      </form>
      <button>Registrer deg</button>
    </div>
  </div>
</div>
</header>
<main class="eiendom-detaljer">
  <h1 class="city-name">Oslo, Norge</h1>
  <h2 class="property-title">Villa på Holmenkollen</h2>
  <div class="bildegalleri-detalj">
      <div class="stor-bilde">
          <img src="holmenkollen.jpg" alt="Hovedbilde" id="mainImage">
      </div>
      <div class="sma-bilder">
          <img src="holmenkollen1.jpg" alt="Bilde 1" class="thumb">
          <img src="holmenkollen2.jpg" alt="Bilde 2" class="thumb">
          <img src="holmenkollen3.jpg" alt="Bilde 3" class="thumb">
          <img src="holmenkollen4.jpg" alt="Bilde 4" class="thumb">
      </div>
  </div>
<div class="kapasitet-info">
      <span>4 gjester</span>
      <span class="dot">&bull;</span>
      <span>2 senger</span>
  </div>
  <div class="info-seksjon">
      <div class="venstre-info">
          <div class="pris-rating">
              <span class="star-rating">⭐ 5,00/5</span>
              <span class="pris">2 000 NOK per natt</span>
          </div>
          <ul class="fasiliteter">
              <li>Wi-fi</li>
              <li>Parkering</li>
              <li>Kjøkken</li>
              <li>Vaskemaskin</li>
              <li>TV</li>
              <li>Klimaanlegg</li>
              <li>Balkong</li>
          </ul>
          <div class="beskrivelse">
              <h3>Om boligen</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque euismod, nisi eu consectetur consectetur, nisl nisi consectetur nisi, euismod euismod nisi nisi euismod. Mauris non tempor quam, et lacinia sapien. Mauris accumsan eros eget libero posuere vulputate. Etiam elit elit, elementum sed varius at, adipiscing vitae est.</p>
          </div>
      </div>
      <div class="hoyre-info">
          <a href="hrredigereiendom.html" class="book-btn">Rediger</a>
      </div>
  </div>
  <section class="anmeldelser">
      <h3>Anmeldelser</h3>
      <div class="anmeldelse">
          <div class="anmeldelse-header">
              <span class="anmelder-navn">Laura S.</span>
              <span class="anmeldelse-rating">⭐⭐⭐⭐⭐</span>
          </div>
          <p>Vakkert! Kommer gjerne tilbake.</p>
      </div>

      <form class="review-form">
          <label for="rating">Din vurdering:</label>
          <select id="rating" name="rating">
              <option value="">Velg stjerner</option>
              <option value="5">5 ⭐</option>
              <option value="4">4 ⭐</option>
              <option value="3">3 ⭐</option>
              <option value="2">2 ⭐</option>
              <option value="1">1 ⭐</option>
          </select>
          <label for="review-text">Din anmeldelse:</label>
          <textarea id="review-text" name="review-text" rows="3" placeholder="Skriv din anmeldelse..."></textarea>
          <button type="submit">Send inn</button>
          <div class="review-error" style="display:none;color:#c00;margin-top:8px;">For å skrive en anmeldelse må du først ha bodd på eiendommen.</div>
      </form>
  </section>
  <section class="kartseksjon">
    <h3>Adresse</h3>
	    <p>Kongeveien 26, 0787 Oslo, Norge</p>
    <div id="map" style="height: 320px; border-radius: 12px; margin-bottom: 2em;"></div>

  </section>
</main>
    <div id="lightbox" class="lightbox" style="display:none;">
        <span class="lightbox-arrow left-arrow">&#10094;</span>
        <img class="lightbox-content" id="lightbox-img">
        <span class="lightbox-arrow right-arrow">&#10095;</span>
        <span class="close">&times;</span>
    </div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    // Lightbox functionality
    const mainImage = document.getElementById('mainImage');
    const thumbs = document.querySelectorAll('.thumb');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const closeBtn = document.querySelector('.lightbox .close');
    const leftArrow = document.querySelector('.lightbox .left-arrow');
    const rightArrow = document.querySelector('.lightbox .right-arrow');

    // Gather all image sources in order
    const allImages = [mainImage, ...thumbs];
    const imageSources = allImages.map(img => img.src);
    let currentIndex = 0;

    function openLightbox(src) {
        currentIndex = imageSources.indexOf(src);
        showImage();
        lightbox.style.display = 'flex';
    }

    function showImage() {
        lightboxImg.src = imageSources[currentIndex];
    }

    mainImage.addEventListener('click', () => openLightbox(mainImage.src));
    thumbs.forEach(thumb => {
        thumb.addEventListener('click', () => openLightbox(thumb.src));
    });
    closeBtn.addEventListener('click', () => {
        lightbox.style.display = 'none';
    });
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) lightbox.style.display = 'none';
    });

    leftArrow.addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex - 1 + imageSources.length) % imageSources.length;
        showImage();
    });
    rightArrow.addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex + 1) % imageSources.length;
        showImage();
    });

    //  keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (lightbox.style.display === 'flex') {
            if (e.key === 'ArrowLeft') {
                currentIndex = (currentIndex - 1 + imageSources.length) % imageSources.length;
                showImage();
            } else if (e.key === 'ArrowRight') {
                currentIndex = (currentIndex + 1) % imageSources.length;
                showImage();
            } else if (e.key === 'Escape') {
                lightbox.style.display = 'none';
            }
        }
    });

    // Review form error
    document.querySelector('.review-form').addEventListener('submit', function(e) {
        e.preventDefault();
        this.querySelector('.review-error').style.display = 'block';
    });

    // Leaflet map for Oslo
    document.addEventListener('DOMContentLoaded', function() {
        var map = L.map('map').setView([59.96319, 10.67813], 16); // Kongeveien 26, Oslo
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        L.marker([59.96319, 10.67813]).addTo(map)
            .bindPopup('Kongeveien 26, 0787 Oslo, Norge')
            .openPopup();
    });
    </script>
 <script>
    // Simple dropdown logic
    const bell = document.getElementById('notifBell');
    const dropdown = document.getElementById('notifDropdown');
    bell.addEventListener('click', function(e) {
      e.stopPropagation();
      dropdown.classList.toggle('show');
    });
    document.addEventListener('click', function() {
      dropdown.classList.remove('show');
    });
    </script>

<footer class="main-footer">
  <div class="footer-links">
    <a href="hrvilkar.html">Vilkår og betingelser</a>
    <span class="footer-separator">|</span>
    <a href="hrkontakt.html">Kontakt oss</a>
    <span class="footer-separator">|</span>
    <a href="hromoss.html">Om oss</a>
  </div>
</footer>
</body>
</html>
